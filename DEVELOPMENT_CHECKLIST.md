# –ß–µ–∫-–ª–∏—Å—Ç –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ ¬´CherryPlayList¬ª

> –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, —Ä–∞–∑–±–∏—Ç–∞—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –≤—ã–ø–æ–ª–Ω–∏–º—ã–µ —à–∞–≥–∏. –ö–∞–∂–¥—ã–π —à–∞–≥ ‚Äî –µ–¥–∏–Ω–∏—á–Ω–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –î–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –∫–∞–∫ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

---

## 0. –ö–æ—Ä–æ—Ç–∫–æ: —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ —Å—Ç–µ–∫

- –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Desktop (Windows –ø–µ—Ä–≤–∏—á–Ω–æ), –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ Electron.
- –°—Ç–µ–∫: **Electron + React + TypeScript + Zustand**.
- –•—Ä–∞–Ω–µ–Ω–∏–µ: –ª–æ–∫–∞–ª—å–Ω—ã–µ JSON-—Ñ–∞–π–ª—ã, –æ—Ñ–ª–∞–π–Ω.
- –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä –ø–ª–µ–π–ª–∏—Å—Ç–∞: ~150 —Ç—Ä–µ–∫–æ–≤.

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∫—Ä–∞—Ç–∫–æ)

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Node.js (LTS) –∏ npm/yarn.
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Visual Studio Code (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è).
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TypeScript –≥–ª–æ–±–∞–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): `npm i -g typescript`.
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: `git init` –∏ —Å–æ–∑–¥–∞—Ç—å `.gitignore` (node_modules, dist, .env).

---

## 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

- [x] –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–µ—Ä–µ–π—Ç–∏ –≤ –Ω–µ—ë.
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å package.json: `npm init -y`.
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Electron, Webpack/Vite (–Ω–∞ –≤—ã–±–æ—Ä), React, ReactDOM, TypeScript:
  - `npm i electron react react-dom zustand`
  - `npm i -D typescript @types/react @types/react-dom electron-builder`
  - (–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Vite) `npm i -D vite @vitejs/plugin-react concurrently wait-on`
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Material Icons: `npm i @mui/icons-material` –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —á–µ—Ä–µ–∑ CDN/font.
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è drag-and-drop: `@emotion/react`, `@emotion/cache`, `@emotion/styled` (peer dependencies –¥–ª—è MUI).
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `uuid` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID —Ç—Ä–µ–∫–æ–≤: `npm i uuid` –∏ `npm i -D @types/uuid`.
- [x] –°–æ–∑–¥–∞—Ç—å `tsconfig.json` –∏ –±–∞–∑–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `src/`, `electron/`, `public/`.

### 2.1 –í–∞–∂–Ω—ã–µ –Ω—é–∞–Ω—Å—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (Vite + Electron)

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:**

1. **Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
   - –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `vite.config.mjs` (ESM), –∞ –ù–ï `vite.config.ts`
   - Vite 5+ —Ç—Ä–µ–±—É–µ—Ç ESM –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ deprecated CJS API
   - –í `vite.config.mjs` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `import.meta.url` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `__dirname`:
     ```javascript
     import { fileURLToPath } from 'url';
     const __dirname = path.dirname(fileURLToPath(import.meta.url));
     ```

2. **index.html —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
   - `index.html` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ **–∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**, –∞ –ù–ï –≤ `public/`
   - Vite –∏—â–µ—Ç `index.html` –≤ –∫–æ—Ä–Ω–µ –∫–∞–∫ —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞
   - `public/` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ (–∏–∫–æ–Ω–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è), –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å

3. **TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Electron:**
   - –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `tsconfig.electron.json` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
     - `"module": "CommonJS"` (Electron main process —Ç—Ä–µ–±—É–µ—Ç CommonJS)
     - `"outDir": "dist-electron"`
     - `"moduleResolution": "node"`
   - –í Electron —Ñ–∞–π–ª–∞—Ö (`main.ts`, `preload.ts`) –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ES6 –∏–º–ø–æ—Ä—Ç—ã (`import`), TypeScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –∏—Ö –≤ `require()` –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ CommonJS

4. **package.json –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - `"main"` –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª: `"dist-electron/electron/main.js"` (–Ω–µ `dist-electron/main.js`)
   - TypeScript –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `electron/` –≤ `dist-electron/electron/`, —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
   - –°–∫—Ä–∏–ø—Ç `dev` –¥–æ–ª–∂–µ–Ω –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å Electron –∫–æ–¥ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º:
     ```json
     "dev": "concurrently -k \"vite\" \"wait-on http://localhost:5173 && npm run compile:electron && electron .\"",
     "compile:electron": "tsc -p tsconfig.electron.json"
     ```

5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**
   - `electron/` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ **–∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**, –∞ –Ω–µ –≤ `src/`
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞: `electron/main.ts`, `electron/preload.ts`, `electron/ipc/`, `electron/utils/`
   - React –∫–æ–¥ –≤ `src/`, Electron –∫–æ–¥ –≤ `electron/`

6. **TypeScript —Ç–∏–ø—ã –≤ Electron:**
   - –í `main.ts` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `BrowserWindow` –∫–∞–∫ —Ç–∏–ø –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ `Electron.BrowserWindow`)
   - –í `preload.ts` –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–æ–±–∞–≤–∏—Ç—å `export {};` –ø–µ—Ä–µ–¥ `declare global`:
     ```typescript
     export {};
     declare global {
       interface Window { ... }
     }
     ```

---

## 3. –ë–∞–∑–æ–≤—ã–π Electron skeleton

- [ ] –°–æ–∑–¥–∞—Ç—å `electron/main.ts` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ main process.
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–∫–Ω–∞ (BrowserWindow) —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏:
  - –†–∞–∑–º–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `1200x800px` –∏–ª–∏ `1400x900px` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–µ—Å–∫—Ç–æ–ø–Ω—ã–π —Ä–∞–∑–º–µ—Ä)
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: `800x600px`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã: `contextIsolation: true`, `nodeIntegration: false`, preload script.
- [ ] –î–æ–±–∞–≤–∏—Ç—å `preload.ts` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –æ–±–≤—è–∑–∫–∏ IPC (expose limited API).
- [ ] –î–æ–±–∞–≤–∏—Ç—å npm-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è dev –∏ —Å–±–æ—Ä–∫–∏ (electron:dev, build).

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ renderer (React + TypeScript)

- [x] –°–æ–∑–¥–∞—Ç—å `src/index.tsx`, –ø–æ–¥–∫–ª—é—á–∏—Ç—å ReactDOM –∏ –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `App`.
- [x] –°–æ–∑–¥–∞—Ç—å `index.html` –≤ **–∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞** (–Ω–µ –≤ `public/`) —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–º `<div id="root"></div>`.
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä—â–∏–∫ (Vite/webpack) –¥–ª—è TypeScript + React.
- [x] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ electron –≤ —Ä–µ–∂–∏–º–µ dev –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è React-—Å—Ç—Ä–∞–Ω–∏—Ü–∞.
- [x] –û–±–Ω–æ–≤–∏—Ç—å `App.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `PlaylistView` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

---

## 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞ ‚Äî —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –ø–æ —à–∞–±–ª–æ–Ω—É

- [x] –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–∞–ª–æ–≥–∏: `src/components/`, `src/state/`, `src/services/`, `src/types/`, `src/hooks/`, `electron/ipc/`, `electron/utils/`.
- [x] –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª—ã –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: `PlaylistView.tsx`, `PlaylistItem.tsx`, `playlistStore.ts`, `track.ts` –∏ —Ç.–¥.

---

## 6. –¢–∏–ø—ã –∏ –º–æ–¥–µ–ª–∏

- [x] –í `src/types/track.ts` –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Track: `id, path, name` (UUID –¥–ª—è id).
- [x] –í `src/types/fileSystem.ts` –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã FileSystemItem –∏ FileSystemNode –¥–ª—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.
- [ ] –í `src/types/playlist.ts` –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É JSON-–ø–ª–µ–π–ª–∏—Å—Ç–∞ (name + tracks array).

---

## 7. Zustand ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### playlistStore

- [x] –°–æ–∑–¥–∞—Ç—å `src/state/playlistStore.ts`.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ: `name: string`, `tracks: Track[]`, `selectedTrackIds: Set<string>`.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–∫—à–µ–Ω—ã: `addTrack(track)`, `addTracks(tracks[])`, `removeTrack(id)`, `moveTrack(from, to)`, `setName(name)`, `loadFromJSON(obj)`, `clear()`.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–∫—à–µ–Ω—ã –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è: `selectTrack(id)`, `deselectTrack(id)`, `selectAll()`, `deselectAll()`, `toggleTrackSelection(id)`, `selectRange(fromId, toId)`.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å batch –æ–ø–µ—Ä–∞—Ü–∏–∏: `removeSelectedTracks()`, `moveSelectedTracks(toIndex)`.
- [x] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (mock tracks) –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è `moveTrack` –∏ `addTrack`.

### uiStore –∏ settingsStore

- [ ] –°–æ–∑–¥–∞—Ç—å `src/state/uiStore.ts` —Å `activeSource`, `modal`, `notifications`, `dragging`.
- [ ] –°–æ–∑–¥–∞—Ç—å `src/state/settingsStore.ts` —Å `exportPath`, `exportStrategy`, `lastOpenedPlaylist`.
- [x] –°–æ–∑–¥–∞—Ç—å `src/state/historyStore.ts` –¥–ª—è —Å–∏—Å—Ç–µ–º—ã Undo/Redo:
  - [x] –°–æ—Å—Ç–æ—è–Ω–∏–µ: `history: Action[]`, `historyIndex: number`, `maxDepth: 50`
  - [x] –≠–∫—à–µ–Ω—ã: `addAction(action)`, `undo()`, `redo()`, `canUndo()`, `canRedo()`, `clear()`
  - [x] –¢–∏–ø—ã –¥–µ–π—Å—Ç–≤–∏–π: `DeleteAction`, `MoveAction`, `AddAction` (batch operations = 1 action)
  - [x] –û–±–ª–∞—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è: —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∞—è —Å–µ—Å—Å–∏—è (–Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ)
  - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `playlistStore`: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (setName, addTracks, removeTrack, moveTrack –∏ –∏—Ö batch –≤–µ—Ä—Å–∏–∏)
  - [x] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–∏–∫–∏ undo/redo —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –æ–±—Ä–∞—Ç–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
  - [x] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Ctrl+Z (undo), Ctrl+Y –∏ Ctrl+Shift+Z (redo) –≤ `PlaylistView.tsx` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏

---

## 8. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π MVP

> **–°–º. —Ç–∞–∫–∂–µ:** –ü–æ–ª–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞ –≤ `FULL_DOCUMENTATION.md`, —Ä–∞–∑–¥–µ–ª 9.

### 8.1 –°–∏—Å—Ç–µ–º–∞ —Ç–µ–º –∏ —Å—Ç–∏–ª–µ–π

- [ ] –°–æ–∑–¥–∞—Ç—å `src/theme/theme.ts` —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π —Ç–µ–º—ã:
  - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ThemeColors` —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏: `background`, `text`, `accent`, `state`, `ui`
  - –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Ü–≤–µ—Ç–∞ –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 9.1.2 FULL_DOCUMENTATION.md)
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º
- [ ] –°–æ–∑–¥–∞—Ç—å `src/theme/typography.ts` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏:
  - –†–∞–∑–º–µ—Ä—ã —à—Ä–∏—Ñ—Ç–æ–≤: heading (20px), body (14px), secondary (12px), small (11px)
  - –í–µ—Å–∞: heading (600), body (400)
  - Line heights: heading (1.4), body (1.5), secondary (1.4)
- [ ] –°–æ–∑–¥–∞—Ç—å `src/theme/spacing.ts` —Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ç—Å—Ç—É–ø–æ–≤ (–±–∞–∑–æ–≤–∞—è –µ–¥–∏–Ω–∏—Ü–∞ 4px):
  - –®–∫–∞–ª–∞: xs (4px), sm (8px), md (16px), lg (24px), xl (32px), xxl (48px)
- [ ] –ü–æ–¥–∫–ª—é—á–∏—Ç—å Material Icons (–∏–∫–æ–Ω–∫–∏ 18px, 24px, 32px, 48px)

### 8.2 App shell –∏ Layout

- [ ] `App.tsx`: —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º Header –∏ –¥–≤—É–º—è –ø–∞–Ω–µ–ª—è–º–∏:
  - Header (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–≤–µ—Ä—Ö—É)
  - –î–≤–µ –∫–æ–ª–æ–Ω–∫–∏: `PlaylistPanel` (–ª–µ–≤–æ) –∏ `SourcesPanel` (–ø—Ä–∞–≤–æ)
  - –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –ø–∞–Ω–µ–ª—è–º–∏ (—Ç–æ–Ω–∫–∞—è –ª–∏–Ω–∏—è, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–π)
  - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –ø–∞–Ω–µ–ª–∏: `100px`
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–∞–Ω–µ–ª–µ–π –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ç—ë–º–Ω—É—é —Ç–µ–º—É –∫–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

### 8.3 Header Component

- [ ] –°–æ–∑–¥–∞—Ç—å `src/components/AppHeader.tsx`:
  - **–í–µ—Ä—Ö–Ω—è—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:**
    - –ì—Ä—É–ø–ø–∞ 1 (File): New, Save, Load (Material Icons, 32px)
    - –ì—Ä—É–ø–ø–∞ 2 (Actions): Export (Material Icons, 32px)
    - –ì—Ä—É–ø–ø–∞ 3 (History): Undo, Redo (Material Icons, 32px) ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∞
      - [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `historyStore`: `canUndo()`, `canRedo()` –¥–ª—è disabled —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `playlistStore`)
      - [x] –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏: `handleUndo()`, `handleRedo()` –≤—ã–∑—ã–≤–∞—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã store (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `playlistStore`)
      - [x] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Ctrl+Z –¥–ª—è Undo, Ctrl+Y –¥–ª—è Redo (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `PlaylistView.tsx` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π —Ä–∞—Å–∫–ª–∞–¥–∫–∏)
    - –ì—Ä—É–ø–ø–∞ 4 (Settings): Settings (Material Icons, 32px)
    - –û—Ç—Å—Ç—É–ø—ã: `8px` –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏, `16px` –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏
    - Tooltips –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
    - Disabled —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è Undo/Redo –∫–æ–≥–¥–∞ –Ω–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏
  - **–í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–µ–π–ª–∏—Å—Ç–µ:**
    - –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ)
    - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: `üìä [count] —Ç—Ä–µ–∫–æ–≤ ‚Ä¢ ‚è±Ô∏è [duration]` (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞, 12px, secondary text)
    - –ò–∫–æ–Ω–∫–∏: Material Icons (list –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, timer/clock –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞—Å—à–∏—Ä—è–µ–º–∞—è –¥–ª—è –±—É–¥—É—â–∏—Ö –º–µ—Ç—Ä–∏–∫

### 8.4 PlaylistPanel

- [x] `PlaylistView.tsx`: –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ `tracks` –∏–∑ `playlistStore`:
  - –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: —Å–æ–æ–±—â–µ–Ω–∏–µ "Playlist is empty"
  - –ö–Ω–æ–ø–∫–∏ "Select All", "Deselect All" –∏ "Delete Selected" –≤ –ø–∞–Ω–µ–ª–∏ –¥–µ–π—Å—Ç–≤–∏–π
  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–µ–∫–æ–≤ –∏ –æ–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–æ–µ –ø–æ–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞
- [x] `PlaylistItem.tsx`: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
  - **Layout (—Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ):**
    - Drag handle (–∏–∫–æ–Ω–∫–∞ `DragIndicatorIcon` –∏–∑ Material Icons, 24px, –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏–º)
    - –ù–æ–º–µ—Ä —Ç—Ä–µ–∫–∞ (—Ñ–æ—Ä–º–∞—Ç `1`, `2`, etc., –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É)
    - –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç, 14px, body text, –æ–±—Ä–µ–∑–∫–∞ ellipsis –µ—Å–ª–∏ –¥–ª–∏–Ω–Ω–æ–µ)
    - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—Å–ø—Ä–∞–≤–∞, —Ñ–æ—Ä–º–∞—Ç `M:SS`, 12px, secondary text, fallback `--:--`)
    - –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è (–∏–∫–æ–Ω–∫–∞ `DeleteIcon`, –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ hover)
  - **–°—Ç–∏–ª–∏:**
    - –í—ã—Å–æ—Ç–∞: —Å—Ä–µ–¥–Ω—è—è (~60px)
    - Padding: `12px`
    - Background: `#2a2a2a`
    - Hover: Background `#323232`
    - Selected: Background `#1a3a5a`, border `1px solid #4a9eff`
    - Dragging: opacity `0.5`
  - **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
    - –ö–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É: –≤—ã–¥–µ–ª–µ–Ω–∏–µ/—Å–Ω—è—Ç–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è
    - Drag handle: –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
    - –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è: —É–¥–∞–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞

### 8.4.1 Drag-and-Drop Implementation (HTML5 Native API)

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:** ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π HTML5 Drag and Drop API –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫.

- [x] **PlaylistView.tsx - State Management:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å state –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è:
    - `draggedItems: DraggedItems | null` - –ï–¥–∏–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è:
      - `{ type: 'tracks'; ids: Set<string> }` - –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–µ —Ç—Ä–µ–∫–∏ (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥—Ä—É–ø–ø–æ–≤–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ)
      - `{ type: 'files'; paths: string[] }` - –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã –∏–∑ FileBrowser
      - `null` - –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
    - `dragOverId: string | null` - ID —Ç—Ä–µ–∫–∞, –Ω–∞–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫—É—Ä—Å–æ—Ä (–∏–ª–∏ null –¥–ª—è –ø—É—Å—Ç–æ–≥–æ –º–µ—Å—Ç–∞)
    - `insertPosition: 'top' | 'bottom' | null` - –ø–æ–∑–∏—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏ (–≤–µ—Ä—Ö–Ω—è—è/–Ω–∏–∂–Ω—è—è –ø–æ–ª–æ–≤–∏–Ω–∞ —ç–ª–µ–º–µ–Ω—Ç–∞)
  - [x] **PlaylistView.tsx - Event Handlers:**
  - [x] `handleDragStart(e: React.DragEvent, trackId: string)`:
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤—ã–¥–µ–ª–µ–Ω –ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–π —Ç—Ä–µ–∫ –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏
    - –ï—Å–ª–∏ –¥–∞ –∏ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏, —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ ID –≤ `draggedItems` —Å —Ç–∏–ø–æ–º 'tracks'
    - –ò–Ω–∞—á–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ `trackId` –≤ `draggedItems` —Å —Ç–∏–ø–æ–º 'tracks'
    - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `e.dataTransfer.effectAllowed = 'move'`
    - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `e.dataTransfer.setData('text/plain', trackId)`
  - [x] `handleDragOver(e: React.DragEvent, trackId: string)`:
    - –í—ã–∑–≤–∞—Ç—å `e.preventDefault()` –∏ `e.stopPropagation()`
    - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∏–∑ `e.dataTransfer.types`:
      - `application/json` - —Ñ–∞–π–ª—ã –∏–∑ FileBrowser
      - `text/plain` - —Ç—Ä–µ–∫–∏ –∏–∑ –ø–ª–µ–π–ª–∏—Å—Ç–∞
    - –î–ª—è —Ñ–∞–π–ª–æ–≤: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `e.dataTransfer.dropEffect = 'copy'` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `draggedItems` —Å —Ç–∏–ø–æ–º 'files' –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    - –î–ª—è —Ç—Ä–µ–∫–æ–≤: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `e.dataTransfer.dropEffect = 'move'`
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `trackId` –æ–¥–Ω–∏–º –∏–∑ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —Ç—Ä–µ–∫–æ–≤
    - –ï—Å–ª–∏ –Ω–µ—Ç, –≤—ã—á–∏—Å–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –∫—É—Ä—Å–æ—Ä–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–∞:
      ```typescript
      const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();
      const y = e.clientY - rect.top;
      const height = rect.height;
      const position = y < height / 2 ? 'top' : 'bottom';
      ```
    - –û–±–Ω–æ–≤–∏—Ç—å `dragOverId` –∏ `insertPosition` —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ç—Ä–µ–∫ –Ω–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è
  - [x] `handleDrop(e: React.DragEvent, dropTrackId: string)`:
    - –í—ã–∑–≤–∞—Ç—å `e.preventDefault()` –∏ `e.stopPropagation()`
    - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∏–∑ `e.dataTransfer.types`
    - –î–ª—è —Ñ–∞–π–ª–æ–≤: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `draggedItems` —Å —Ç–∏–ø–æ–º 'files' –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `draggedItems` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –∏–Ω–∞—á–µ –≤—ã–π—Ç–∏
    - –î–ª—è —Ç—Ä–µ–∫–æ–≤: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `insertPosition` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –µ—Å–ª–∏ `dragOverId` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (drop –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç)
    - –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å —Ü–µ–ª–µ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ (`dropIndex`)
    - –í—ã—á–∏—Å–ª–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –≤—Å—Ç–∞–≤–∫–∏:
      ```typescript
      let finalIndex = dropIndex;
      if (insertPosition === 'bottom') {
        finalIndex = dropIndex + 1;
      } else if (!insertPosition && draggedItems.type === 'files') {
        // –î–ª—è —Ñ–∞–π–ª–æ–≤ –±–µ–∑ insertPosition –≤—Å—Ç–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ
        finalIndex = dropIndex + 1;
      }
      ```
    - –ï—Å–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—é—Ç—Å—è —Ç—Ä–µ–∫–∏:
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ `dropTrackId` –æ–¥–Ω–∏–º –∏–∑ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —Ç—Ä–µ–∫–æ–≤ (–µ—Å–ª–∏ –¥–∞, –≤—ã–π—Ç–∏)
      - –ï—Å–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–µ–∫–æ–≤ (`draggedItems.ids.size > 1`):
        - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–ø–∏—Å–æ–∫ –Ω–µ –ø—É—Å—Ç–æ–π
        - –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —Ç—Ä–µ–∫–æ–≤ –¥–æ —Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∫–∏
        - –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å, –≤—ã—á—Ç—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —Ç—Ä–µ–∫–æ–≤ –¥–æ —Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∫–∏
        - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏–Ω–¥–µ–∫—Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º —Å —É—á–µ—Ç–æ–º —Ä–∞–∑–º–µ—Ä–∞ –≥—Ä—É–ø–ø—ã
        - –í—ã–∑–≤–∞—Ç—å `moveSelectedTracks(finalIndex)` –∏–∑ store
      - –ï—Å–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ç—Ä–µ–∫:
        - –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å —Å—Ç–∞—Ä–æ–π –ø–æ–∑–∏—Ü–∏–∏ (`oldIndex`)
        - –£—á–µ—Å—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –≤–Ω–∏–∑:
          ```typescript
          if (oldIndex < dropIndex) {
            finalIndex -= 1; // –£—á–∏—Ç—ã–≤–∞–µ–º —Å–º–µ—â–µ–Ω–∏–µ
          }
          ```
        - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º: `Math.max(0, Math.min(finalIndex, tracks.length - 1))`
        - –í—ã–∑–≤–∞—Ç—å `moveTrack(oldIndex, finalIndex)` –∏–∑ store
    - –ï—Å–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—é—Ç—Å—è —Ñ–∞–π–ª—ã:
      - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ `e.dataTransfer.getData('application/json')`
      - –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ç—Ä–µ–∫–∏ –∏–∑ –ø—É—Ç–µ–π
      - –í—ã–∑–≤–∞—Ç—å `addTracksAt(newTracks, finalIndex)` –∏–∑ store
    - –û—á–∏—Å—Ç–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
  - [x] `handleDragEnd()`:
    - –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ state –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è (`draggedItems`, `dragOverId`, `insertPosition`)
    - Opacity –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–∏–µ CSS –∫–ª–∞—Å—Å–∞ `.dragging`
    - –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏–∑–º–µ–Ω—è—Ç—å `style.opacity`
  - [x] **Container Event Handlers:**
    - [x] `onDragOver` (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä):
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫—É—Ä—Å–æ—Ä –Ω–µ –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º —Ç—Ä–µ–∫–∞ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `target.closest('.playlist-item')`)
      - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∏–∑ `e.dataTransfer.types`
      - –î–ª—è —Ñ–∞–π–ª–æ–≤: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `e.dataTransfer.dropEffect = 'copy'` –∏ —Å–±—Ä–æ—Å–∏—Ç—å `dragOverId` –∏ `insertPosition`
      - –î–ª—è —Ç—Ä–µ–∫–æ–≤: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `e.dataTransfer.dropEffect = 'move'` –∏ —Å–±—Ä–æ—Å–∏—Ç—å `dragOverId` –∏ `insertPosition`
      - –í—ã–∑–≤–∞—Ç—å `e.preventDefault()` –∏ `e.stopPropagation()`
    - [x] `onDragLeave` (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä):
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫—É—Ä—Å–æ—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∏–Ω—É–ª –æ–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

        ```typescript
        const rect = (e.currentTarget as HTMLElement).getBoundingClientRect();
        const x = e.clientX;
        const y = e.clientY;
        const relatedTarget = e.relatedTarget as HTMLElement | null;
        const currentTarget = e.currentTarget as HTMLElement;

        if (
          (x < rect.left || x > rect.right || y < rect.top || y > rect.bottom) &&
          (!relatedTarget || !currentTarget.contains(relatedTarget))
        ) {
          setDragOverId(null);
          setInsertPosition(null);
        }
        ```

      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `currentTarget.contains(relatedTarget)`, –∞ –Ω–µ `rect.contains()` (rect - —ç—Ç–æ DOMRect, –Ω–µ HTMLElement)

    - [x] `onDrop` (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä):
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ drop –ø—Ä–æ–∏–∑–æ—à–µ–ª –∏–º–µ–Ω–Ω–æ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∞ –Ω–µ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Ç—Ä–µ–∫–∞
      - –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∏–∑ `e.dataTransfer.types`
      - –î–ª—è —Ñ–∞–π–ª–æ–≤ (`application/json` –∏ `!dragOverId`):
        - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ `e.dataTransfer.getData('application/json')`
        - –†–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ç—Ä–µ–∫–∏
        - –í—ã–∑–≤–∞—Ç—å `addTracks(newTracks)` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ–Ω–µ—Ü
      - –î–ª—è —Ç—Ä–µ–∫–æ–≤ (`text/plain` –∏ `draggedItems?.type === 'tracks'` –∏ `!dragOverId`):
        - –ï—Å–ª–∏ –≥—Ä—É–ø–ø–∞ —Ç—Ä–µ–∫–æ–≤: –≤—ã–∑–≤–∞—Ç—å `moveSelectedTracks(tracks.length)`
        - –ï—Å–ª–∏ –æ–¥–∏–Ω —Ç—Ä–µ–∫: –Ω–∞–π—Ç–∏ `oldIndex` –∏ –≤—ã–∑–≤–∞—Ç—å `moveTrack(oldIndex, tracks.length - 1)`
      - –û—á–∏—Å—Ç–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è

- [x] **PlaylistItem.tsx - Drag-and-Drop Support:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å –∞—Ç—Ä–∏–±—É—Ç `draggable={true}` –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É
  - [x] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π:
    - `onDragStart={(e) => onDragStart(e, track.id)}`
    - `onDragOver={onDragOver}`
    - `onDrop={(e) => onDrop(e, track.id)}`
    - `onDragEnd={onDragEnd}`
  - [x] –î–æ–±–∞–≤–∏—Ç—å props:
    - `isDragging: boolean` - –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è –ª–∏ —ç–ª–µ–º–µ–Ω—Ç
    - `isDragOver?: boolean` - –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º
    - `insertPosition?: 'top' | 'bottom' | null` - –ø–æ–∑–∏—Ü–∏—è –≤—Å—Ç–∞–≤–∫–∏
  - [x] –ü—Ä–∏–º–µ–Ω–∏—Ç—å CSS –∫–ª–∞—Å—Å—ã:
    - `.dragging` - –∫–æ–≥–¥–∞ —ç–ª–µ–º–µ–Ω—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ—Ç—Å—è (opacity: 0.5)
    - `.drag-over` - –∫–æ–≥–¥–∞ –∫—É—Ä—Å–æ—Ä –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º (–±–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏—è)

- [x] **–í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—Å—Ç–∞–≤–∫–∏:**
  - [x] –°–æ–∑–¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç `.drag-insert-line` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ª–∏–Ω–∏–∏ –≤—Å—Ç–∞–≤–∫–∏
  - [x] –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ª–∏–Ω–∏—é –ø–µ—Ä–µ–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º, –µ—Å–ª–∏ `insertPosition === 'top'`
  - [x] –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –ª–∏–Ω–∏—é –ø–æ—Å–ª–µ —ç–ª–µ–º–µ–Ω—Ç–∞, –µ—Å–ª–∏ `insertPosition === 'bottom'`
  - [x] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏–Ω–∏—é –≤ –Ω–∞—á–∞–ª–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–µ–∫–æ–≤ (`draggedItems?.type === 'tracks' && !dragOverId`)
  - [x] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏–Ω–∏—é –≤ –∫–æ–Ω—Ü–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–µ–∫–æ–≤ (`draggedItems?.type === 'tracks' && !dragOverId`)
  - [x] –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏–Ω–∏–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤ –≤ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ (—Ñ–∞–π–ª—ã –Ω–µ –∏–º–µ—é—Ç –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞)
  - [x] –°—Ç–∏–ª–∏ –¥–ª—è –ª–∏–Ω–∏–∏:
    ```css
    .drag-insert-line {
      height: 2px;
      background-color: #4a9eff;
      margin: 0;
      border-radius: 1px;
      box-shadow: 0 0 4px rgba(74, 158, 255, 0.6);
      animation: pulse-line 1s ease-in-out infinite;
    }
    ```
  - [x] –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏

- [x] **–õ–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞:**
  - [x] –î–ª—è –æ–¥–∏–Ω–æ—á–Ω–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ç—Ä–µ–∫–∞:
    - –£—á–µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤—Å—Ç–∞–≤–∫–∏ (top/bottom)
    - –£—á–µ—Å—Ç—å —Å–º–µ—â–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –≤–Ω–∏–∑ –ø–æ —Å–ø–∏—Å–∫—É (`oldIndex < dropIndex`)
    - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏–Ω–¥–µ–∫—Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –º–∞—Å—Å–∏–≤–∞ (0 –¥–æ length - 1)
  - [x] –î–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ç—Ä–µ–∫–æ–≤:
    - –í—ã—á–∏—Å–ª–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Å —É—á–µ—Ç–æ–º –ø–æ–∑–∏—Ü–∏–∏ –≤—Å—Ç–∞–≤–∫–∏
    - –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —Ç—Ä–µ–∫–æ–≤ –¥–æ —Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∫–∏
    - –°–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å, –≤—ã—á—Ç—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã—Ö —Ç—Ä–µ–∫–æ–≤ –¥–æ —Ç–æ—á–∫–∏ –≤—Å—Ç–∞–≤–∫–∏
    - –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∏–Ω–¥–µ–∫—Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º (0 –¥–æ length - draggedItems.ids.size)
  - [x] –î–ª—è —Ñ–∞–π–ª–æ–≤:
    - –ü—Ä–∏ drop –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Ç—Ä–µ–∫–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `insertPosition` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏
    - –ü—Ä–∏ drop –≤ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ: –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –∫–æ–Ω–µ—Ü —á–µ—Ä–µ–∑ `addTracks()`
  - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∏–Ω–¥–µ–∫—Å–æ–≤ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º `moveTrack` –∏–ª–∏ `moveSelectedTracks`

- [x] **–ì—Ä—É–ø–ø–æ–≤–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ:**
  - [x] –ï—Å–ª–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–π —Ç—Ä–µ–∫ –≤—ã–¥–µ–ª–µ–Ω –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º–∏, –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –≤—Å–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏
  - [x] –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏
  - [x] –í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å –≤—Å–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–µ —Ç—Ä–µ–∫–∏ (–ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ)
  - [x] –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—Å—Ç–∞–≤–∫–∏ –Ω–∞–¥ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–µ–º—ã–º–∏ —Ç—Ä–µ–∫–∞–º–∏
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `moveSelectedTracks(toIndex)` –∏–∑ store –¥–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è

- [x] **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
  - [x] –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ç–∏–ø–∞ `@dnd-kit` –∏–ª–∏ `react-beautiful-dnd`
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞—Ç–∏–≤–Ω—ã–π HTML5 Drag and Drop API
  - [x] –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 8.5 SourcesPanel (File Browser)

- [ ] `SourcesPanel.tsx`: –æ–±—ë—Ä—Ç–∫–∞ —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (File Browser / Playlists / DB)
- [x] `FileBrowser.tsx`: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª—è —Ñ–∞–π–ª–æ–≤:
  - [x] **–ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å (–≤–µ—Ä—Ö):**
    - [x] –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" (Material Icons `arrow_back`)
    - [x] –ö–Ω–æ–ø–∫–∞ "–í–≤–µ—Ä—Ö" (Material Icons `arrow_upward`)
    - [x] Breadcrumbs (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –ø—É—Ç–∏, —Ñ–æ—Ä–º–∞—Ç `Home > Music > Playlists`, 11px, secondary text, –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è –æ–±—Ä–µ–∑–∫–∞)
    - [x] –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ (—Å–ø—Ä–∞–≤–∞, placeholder "–ü–æ–∏—Å–∫...", —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)
  - [x] **–°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤:**
    - [x] –ü—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ (–Ω–µ –∏–∫–æ–Ω–∫–∏, –Ω–µ –¥–µ—Ä–µ–≤–æ)
    - [x] –ü–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –≤ –æ–¥–Ω–æ–º —Å–ø–∏—Å–∫–µ (–ø–∞–ø–∫–∏ –ø–µ—Ä–≤—ã–º–∏, –∑–∞—Ç–µ–º —Ñ–∞–π–ª—ã, –∞–ª—Ñ–∞–≤–∏—Ç–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞)
    - [x] –í—ã—Å–æ—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞: —Å—Ä–µ–¥–Ω—è—è (~50px)
    - [x] Padding: `8px` (sm)
    - [x] Hover: Background hover color
    - [x] –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –ø–∞–ø–∫–µ: –ø–µ—Ä–µ—Ö–æ–¥ –≤–Ω—É—Ç—Ä—å
  - [x] **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞:**
    - [x] –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–ø–∏—Å–∫–µ
    - [x] –ö–∞–∂–¥—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –∏–º—è —Ñ–∞–π–ª–∞/–ø–∞–ø–∫–∏ (primary text) + —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (secondary text, 11px, –Ω–∏–∂–µ –∏–º–µ–Ω–∏)
    - [x] –ë–µ–∑ –ø–æ–¥—Å–≤–µ—Ç–∫–∏ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
  - [x] **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** "–ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞" (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- [x] –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å multi-select –∏ drag –∏–∑ Sources –≤ Playlist:
  - [x] Ctrl+Click, Shift+Click –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
  - [x] –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –ø–ª–µ–π–ª–∏—Å—Ç
  - [x] Drag-and-drop –∏–∑ FileBrowser –≤ PlaylistView —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é
  - [ ] –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –ø–∞–ø–∫–∏: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤, placeholder "–ü–∞–ø–∫–∞: [Name]" + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏ (—Å–º. —Ä–∞–∑–¥–µ–ª "Future Enhancements")

---

## 9. IPC ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É Renderer –∏ Electron

- [x] –í preload.ts –±–µ–∑–æ–ø–∞—Å–Ω–æ expose —Ñ—É–Ω–∫—Ü–∏—é `window.api.invoke(channel, payload)` –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤.
- [x] –í `electron/ipc/export.ts` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `ipcMain.handle('export:execute', async (event, payload) => { ... })`.
- [x] –í `electron/ipc/fileBrowser.ts` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `listDirectory` –∏ `statFile` (—Ä–∞–∑—Ä–µ—à–∞—Ç—å —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—É—Ç–∏).
- [x] –í renderer —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å wrapper `src/services/ipcService.ts` –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ `window.api.invoke(...)`.

---

## 9.1. –î–∏–∞–ª–æ–≥–∏ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã Windows

- [x] –°–æ–∑–¥–∞—Ç—å `electron/ipc/dialogs.ts` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∏–∞–ª–æ–≥–æ–≤ –≤—ã–±–æ—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å IPC handler `dialog:showOpenDialog` –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `dialog.showOpenDialog` —Å `properties: ['openDirectory']`).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å IPC handler `dialog:showSaveDialog` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `dialog.showSaveDialog`).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å IPC handler `dialog:showOpenFileDialog` –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `dialog.showOpenDialog` —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏).
- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª—ã `dialog:*` –≤ whitelist –≤ `electron/preload.ts`.
- [x] –í `src/services/ipcService.ts` –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã: `showFolderDialog()`, `showSaveDialog()`, `showOpenFileDialog()`.
- [x] –í `electron/main.ts` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å handlers —á–µ—Ä–µ–∑ `registerDialogHandlers()`.
- [x] **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–∞–ø–æ–∫ Windows:**
  - [x] –°–æ–∑–¥–∞—Ç—å IPC handler `system:getPath` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø—É—Ç–µ–π —á–µ—Ä–µ–∑ `app.getPath()` (documents, music, downloads, etc.).
  - [x] –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª `system:getPath` –≤ whitelist –≤ `electron/preload.ts`.
  - [x] –í `src/services/ipcService.ts` –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getSystemPath(name: string)` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—É—Ç–µ–π —Ç–∏–ø–∞ 'documents', 'music', 'downloads'.
  - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getSystemPath('music')` –∏–ª–∏ `getSystemPath('documents')` –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É –¥–ª—è FileBrowser –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ.

---

## 10. –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ (frontend service + electron fs)

- [ ] `src/services/fileService.ts` ‚Äî –æ–±–≤—è–∑–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å fileBrowser IPC. –ú–µ—Ç–æ–¥—ã: `listFolder(path)`, `readFileMeta(path)` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ).
- [ ] `electron/utils/fsHelpers.ts` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è `copyFileWithRetry`, `ensureFolder`, `safeFileName` (—É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤).

---

## 11. –≠–∫—Å–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–∞ ‚Äî –ø–æ—à–∞–≥–æ–≤–æ

- [ ] –°–æ–∑–¥–∞—Ç—å `src/services/exportService.ts` —Å –º–µ—Ç–æ–¥–æ–º `exportPlaylist(playlist, options)`.
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `CopyWithNumberPrefixStrategy`:
  - [ ] –ù–∞ –≤—Ö–æ–¥–µ: –º–∞—Å—Å–∏–≤ —Ç—Ä–µ–∫–æ–≤ –∏ —Ü–µ–ª–µ–≤–∞—è –ø–∞–ø–∫–∞.
  - [ ] –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞: —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–º—è `NN - originalName.ext` (NN ‚Äî 2-digit, 01,02,...), –≤—ã–∑–≤–∞—Ç—å IPC `export:copyFile` –∏–ª–∏ `export:execute`.
  - [ ] –í–æ–∑–≤—Ä–∞—â–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
- [ ] –í `electron/ipc/export.ts` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `copyFile(src, dest)` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞/–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏.
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫–∏ –∏ –≤–µ—Ä–Ω—É—Ç—å –≤ renderer –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –Ω–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏—Å—å).
- [ ] **–£–ª—É—á—à–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞:**
  - [ ] –í `AppHeader.tsx` –≤ `handleExport()`: –µ—Å–ª–∏ `exportPath` –ø—É—Å—Ç–æ–π, –æ—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ —á–µ—Ä–µ–∑ `ipcService.showFolderDialog()`.
  - [ ] –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ—ë –≤ `settingsStore` –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç.
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏).
- [ ] **–≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ AIMP —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—É—Ç—è–º–∏:**
  - [ ] –ò–∑—É—á–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç M3U8 (UTF-8 –≤–µ—Ä—Å–∏—è M3U) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –º–æ–±–∏–ª—å–Ω—ã–º AIMP.
  - [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —ç–∫—Å–ø–æ—Ä—Ç–∞ `AIMPPlaylistStrategy` –≤ `exportService.ts`.
  - [ ] –ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø–∞–ø–∫—É —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥, —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–¥–ø–∞–ø–∫–∞ —Å –∏–º–µ–Ω–µ–º –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º).
  - [ ] –í –≤—ã–±—Ä–∞–Ω–Ω—É—é –ø–æ–¥–ø–∞–ø–∫—É –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤—Å–µ —Ç—Ä–µ–∫–∏ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fsHelpers.copyFileWithRetry`).
  - [ ] –í —Ç–æ–π –∂–µ –ø–æ–¥–ø–∞–ø–∫–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª –ø–ª–µ–π–ª–∏—Å—Ç–∞ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.m3u8` –∏ –∏–º–µ–Ω–µ–º, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∏–º–µ–Ω–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞.
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getRelativePath(from: string, to: string): string` –≤ `electron/utils/fsHelpers.ts` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø—É—Ç–∏ –º–µ–∂–¥—É –¥–≤—É–º—è —Ñ–∞–π–ª–∞–º–∏/–ø–∞–ø–∫–∞–º–∏.
  - [ ] –í —Ñ–∞–π–ª–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞ M3U8 –∑–∞–ø–∏—Å–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `#EXTM3U` (UTF-8 —Å BOM –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏).
  - [ ] –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞ –∑–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–æ–∫—É —Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º –ø—É—Ç—ë–º –æ—Ç —Ñ–∞–π–ª–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞ –¥–æ —Ñ–∞–π–ª–∞ —Ç—Ä–µ–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–ª–µ–π–ª–∏—Å—Ç –∏ —Ç—Ä–µ–∫–∏ –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ, –ø—É—Ç—å –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ `filename.mp3`).
  - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º—ã–µ —Å–ª–µ—à–∏ `/` –≤ –ø—É—Ç—è—Ö (—Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è M3U) –∏ –∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –ø—É—Ç–∏ –≤ UTF-8.
  - [ ] –í `electron/ipc/export.ts` –¥–æ–±–∞–≤–∏—Ç—å handler `export:aimp` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è AIMP –ø–ª–µ–π–ª–∏—Å—Ç–∞ –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤.
  - [ ] –í `AppHeader.tsx` –∏–ª–∏ `SettingsModal.tsx` –¥–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ (–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π / AIMP –ø–ª–µ–π–ª–∏—Å—Ç).
  - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –ø–∞–ø–∫—É —Å –º—É–∑—ã–∫–æ–π –∏ –ø–ª–µ–π–ª–∏—Å—Ç–æ–º –≤ –¥—Ä—É–≥–æ–µ –º–µ—Å—Ç–æ, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—É—Ç–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ –∏ AIMP –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–ª–µ–π–ª–∏—Å—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## 13. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ (JSON)

- [ ] –°–µ—Ä–≤–∏—Å `playlistService.ts` —Å –º–µ—Ç–æ–¥–∞–º–∏: `savePlaylist(playlistObj, targetPath)`, `loadPlaylist(path)`.
- [ ] –°–æ—Ö—Ä–∞–Ω—è—Ç—å `name` –∏ `tracks` (–ø—É—Ç–∏).
- [ ] Load –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–º–µ—Ç–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ).
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è/–∑–∞–≥—Ä—É–∑–∫–∏:**
  - [ ] –í `AppHeader.tsx` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handleSave()`: –æ—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `ipcService.showSaveDialog()` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `.json`.
  - [ ] –í `AppHeader.tsx` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handleLoad()`: –æ—Ç–∫—Ä—ã—Ç—å –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `ipcService.showOpenFileDialog()` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º `.json`.
  - [ ] –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –≤—ã–∑–≤–∞—Ç—å `playlistService.savePlaylist()` –∏–ª–∏ `playlistService.loadPlaylist()`.
  - [ ] –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏/–∑–∞–≥—Ä—É–∑–∫–µ –∏–ª–∏ –æ–± –æ—à–∏–±–∫–µ.

---

## 14. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ Preferences

- [ ] UI: —Å–æ–∑–¥–∞—Ç—å `SettingsModal.tsx` —Å –¥–µ—Ç–∞–ª—è–º–∏ –¥–∏–∑–∞–π–Ω–∞:
  - –ü–æ–∑–∏—Ü–∏—è: —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  - –†–∞–∑–º–µ—Ä: –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π (content-based, —Ç–∏–ø–∏—á–Ω–æ 500-800px —à–∏—Ä–∏–Ω–∞, 400-600px –≤—ã—Å–æ—Ç–∞)
  - –ê–Ω–∏–º–∞—Ü–∏—è: –Ω–µ—Ç (instant open/close)
  - –ó–∞–∫—Ä—ã—Ç–∏–µ: –∫–Ω–æ–ø–∫–∞ X –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É, –∫–Ω–æ–ø–∫–∞ Cancel
  - –°—Ç–∏–ª–∏: Background secondary —Å overlay, border accent, padding `24px` (lg)
  - –°–æ–¥–µ—Ä–∂–∏–º–æ–µ: `exportPath`, `exportStrategy`, –±—É–¥—É—â–∏–µ –æ–ø—Ü–∏–∏ (—Ç–µ–º–∞, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
- [ ] settingsStore –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ `appData` (electron) –≤ JSON.
- [ ] –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `settingsStore`.
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∏–∞–ª–æ–≥–æ–≤ –≤ Settings:**
  - [ ] –í `SettingsModal.tsx` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handleBrowse()` –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø–∞–ø–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —á–µ—Ä–µ–∑ `ipcService.showFolderDialog()`.
  - [ ] –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–∞–ø–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—å `localExportPath` –∏ –ø–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø—É—Ç—å –≤ input.
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é: –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ø–∞–ø–∫–∏ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º.

---

## 15. –ü–ª–∞–≥–∏–Ω—ã ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–∞—Ä–∫–∞—Å

- [ ] –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `plugins/` —Å –ø—Ä–∏–º–µ—Ä–æ–º `example-plugin/manifest.json` –∏ `index.js`.
- [ ] –í `electron/main.ts` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫ –ø–ª–∞–≥–∏–Ω–æ–≤ (—á—Ç–µ–Ω–∏–µ manifest, require entry).
- [ ] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å API: `registerTrackSource`, `registerExportStrategy`.
- [ ] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä–Ω—ã–π TrackSource –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ–≥–æ –≤ SourcesPanel.

---

## 16. UI-–ø–æ–ª–∏—Ä–æ–≤–∫–∏ –∏ UX-behaviour

### 16.1 –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:
  - –ü–æ–∑–∏—Ü–∏—è: best practice (–æ–±—ã—á–Ω–æ top-right –∏–ª–∏ bottom-right)
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: best practice (–æ–±—ã—á–Ω–æ 3-5 —Å–µ–∫—É–Ω–¥)
  - –¢–∏–ø—ã: Success, Error, Info, Warning
  - –°—Ç–∏–ª–∏: Background secondary —Å opacity, border accent (—Ü–≤–µ—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞), –∏–∫–æ–Ω–∫–∞ Material Icons, primary text color
  - –ê–Ω–∏–º–∞—Ü–∏—è: Slide in/out (subtle)
  - –ü–æ–≤–µ–¥–µ–Ω–∏–µ: –∞–≤—Ç–æ-–∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ—Å–ª–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ä—É—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ (–∫–ª–∏–∫ X –∏–ª–∏ –∫–ª–∏–∫ –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—é), —Å—Ç–µ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏: –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–æ–≤, —É–¥–∞–ª–µ–Ω–∏–∏, —ç–∫—Å–ø–æ—Ä—Ç–µ, –æ—à–∏–±–∫–∞—Ö

### 16.2 –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä—ã (Material Design circular progress indicator):
  - –†–∞–∑–º–µ—Ä—ã: Small (16px –¥–ª—è inline, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤ –∫–æ–ª–æ–Ω–∫–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏), Medium (24px –¥–ª—è –∫–Ω–æ–ø–æ–∫), Large (48px –¥–ª—è full-page)
  - –¶–≤–µ—Ç: Accent primary
  - –ü–æ–∑–∏—Ü–∏–∏: –≤ –∫–æ–ª–æ–Ω–∫–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ, –≤ –∫–Ω–æ–ø–∫–µ —ç–∫—Å–ø–æ—Ä—Ç–∞/–º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ, –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –Ω–∞ loading indicator –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö –ø–∞–ø–æ–∫ (–º–Ω–æ–≥–æ —Ç—Ä–µ–∫–æ–≤)
- [ ] –ò–Ω–¥–∏–∫–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ (progress bar –∏–ª–∏ —Å–ø–∏–Ω–Ω–µ—Ä –≤ –∫–Ω–æ–ø–∫–µ/–º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ)

### 16.3 –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:
  - **–ö–Ω–æ–ø–∫–∏:** Default (accent primary background), Hover (lighter/darker shade), Active (pressed, darker), Disabled (reduced opacity), Loading (spinner)
  - **Input –ø–æ–ª—è:** Default (border accent, background secondary), Focus (border accent primary, highlight), Error (border error color), Disabled (reduced opacity)
  - **Track items:** Default (background tertiary), Hover (background hover), Selected (background `#3a4a5a`, border `2px solid #6495ed`), Dragging (semi-transparent, following cursor), Drop target (highlighted insertion point)

### 16.4 Accessibility

- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:
  - Tab: –Ω–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
  - Enter/Space: –∞–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–æ–∫, –≤—ã–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤
  - [x] Ctrl+Z/Y: Undo/Redo (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `PlaylistView.tsx`
  - Escape: –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Ñ–æ–∫—É—Å–∞ (visible outline –Ω–∞ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö)
- [ ] –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–Ω—Ç—Ä–∞—Å—Ç: —Ç–µ–∫—Å—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç WCAG AA —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º (4.5:1 –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞)
- [ ] State indicators: —Ü–≤–µ—Ç + —Ñ–æ—Ä–º–∞/–∏–∫–æ–Ω–∫–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–∞–ª—å—Ç–æ–Ω–∏–∫–æ–≤

### 16.5 –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

- [ ] –í—Å–µ —Ç–µ–∫—Å—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ:
  - Tooltips: –ø–æ–ª–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º
  - Placeholders: —Ä—É—Å—Å–∫–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü–æ–∏—Å–∫...")
  - –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö: —Ä—É—Å—Å–∫–∏–µ
  - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: —Ä—É—Å—Å–∫–∏–µ
  - –ü—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è: —Ä—É—Å—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### 16.6 –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ UX —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ò–Ω–¥–∏–∫–∞—Ü–∏—è –Ω–µ—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç–º–µ–Ω—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏).
- [ ] **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–∫–æ–≤ –≤ –ø–ª–µ–π–ª–∏—Å—Ç–µ:**
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `duration` –≤ —Ç–∏–ø `Track` (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö, —á–∏—Å–ª–æ, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ).
  - [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `music-metadata` –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∞—É–¥–∏–æ: `npm i music-metadata`.
  - [ ] –°–æ–∑–¥–∞—Ç—å IPC handler `audio:getDuration` –≤ `electron/ipc/audio.ts` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `music-metadata`.
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–∞–Ω–∞–ª `audio:getDuration` –≤ whitelist –≤ `electron/preload.ts`.
  - [ ] –í `src/services/ipcService.ts` –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getAudioDuration(path: string)`.
  - [ ] –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞ (–≤ `PlaylistPanel.tsx` –∏ `FileBrowser.tsx`) –≤—ã–∑—ã–≤–∞—Ç—å `getAudioDuration()` –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Ç—Ä–µ–∫.
  - [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–ø–∏–Ω–Ω–µ—Ä (small, 16px) –≤ –∫–æ–ª–æ–Ω–∫–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏.
  - [ ] –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É `src/utils/durationUtils.ts`:
    - `formatDuration(seconds: number): string` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ "H:MM:SS" (–Ω–∞–ø—Ä–∏–º–µ—Ä: "2:34:15")
    - `formatTrackDuration(seconds: number): string` ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ "M:SS" (–Ω–∞–ø—Ä–∏–º–µ—Ä: "3:45")
    - `calculateTotalDuration(tracks: Track[]): number` ‚Äî –ø–æ–¥—Å—á—ë—Ç –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - [ ] –í `AppHeader.tsx` –≤–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
    - –§–æ—Ä–º–∞—Ç: `üìä [count] —Ç—Ä–µ–∫–æ–≤ ‚Ä¢ ‚è±Ô∏è [duration]` (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞)
    - –ò–∫–æ–Ω–∫–∏: Material Icons (list –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞, timer/clock –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
    - –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞: `12px` (secondary text)
    - –¶–≤–µ—Ç: Text secondary
  - [ ] –û–±–Ω–æ–≤–ª—è—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ/–ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤).
- [ ] **–í—ã–¥–µ–ª–µ–Ω–∏–µ –∏ –≥—Ä—É–ø–ø–æ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞–º–∏:**
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ `playlistStore` —Å–æ—Å—Ç–æ—è–Ω–∏–µ `selectedTrackIds: Set<string>` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Set –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞).
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—à–µ–Ω—ã: `selectTrack(id)`, `deselectTrack(id)`, `selectAll()`, `deselectAll()`, `toggleTrackSelection(id)`, `selectRange(fromId: string, toId: string)`.
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—à–µ–Ω `removeSelectedTracks()` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤.
  - [ ] –î–æ–±–∞–≤–∏—Ç—å —ç–∫—à–µ–Ω `moveSelectedTracks(toIndex: number)` –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞.
  - [x] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å `historyStore`: –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏, –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–æ–≤ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤ –∏—Å—Ç–æ—Ä–∏–∏:
    - [x] `DeleteAction`: –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞(–æ–≤) - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ `RemoveTracksAction`
    - [x] `MoveAction`: –ø—Ä–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞(–æ–≤) ‚Äî batch –æ–ø–µ—Ä–∞—Ü–∏–∏ = 1 –¥–µ–π—Å—Ç–≤–∏–µ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ `MoveTracksAction`
    - [x] `AddAction`: –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞(–æ–≤) ‚Äî batch –æ–ø–µ—Ä–∞—Ü–∏–∏ = 1 –¥–µ–π—Å—Ç–≤–∏–µ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ `AddTracksAction`
    - [x] `SetNameAction`: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞
  - [ ] –í `PlaylistItem.tsx` –¥–æ–±–∞–≤–∏—Ç—å —á–µ–∫–±–æ–∫—Å –≤ –Ω–∞—á–∞–ª–µ —ç–ª–µ–º–µ–Ω—Ç–∞ (–ø–µ—Ä–µ–¥ –Ω–æ–º–µ—Ä–æ–º).
  - [ ] –í `PlaylistItem.tsx` –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onClick` –¥–ª—è –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–æ –∫–ª–∏–∫—É –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç (–Ω–µ –Ω–∞ —á–µ–∫–±–æ–∫—Å).
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É Ctrl+Click: –ø—Ä–∏ –∑–∞–∂–∞—Ç–æ–º Ctrl –∫–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–∏–µ.
  - [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É Shift+Click: –ø—Ä–∏ –∑–∞–∂–∞—Ç–æ–º Shift –∫–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É –≤—ã–¥–µ–ª—è–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –¥–æ —Ç–µ–∫—É—â–µ–≥–æ.
  - [ ] –í–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª—è—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏: –∏–∑–º–µ–Ω—è—Ç—å —Ü–≤–µ—Ç –∑–∞–ª–∏–≤–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#3a4a5a`) –∏ –¥–æ–±–∞–≤–ª—è—Ç—å —Ä–∞–º–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `2px solid #6495ed`).
  - [ ] –í `PlaylistView.tsx` –∏–ª–∏ `PlaylistPanel.tsx` –¥–æ–±–∞–≤–∏—Ç—å –ø–∞–Ω–µ–ª—å —Å –∫–Ω–æ–ø–∫–∞–º–∏: "–í—ã–¥–µ–ª–∏—Ç—å –≤—Å—ë" –∏ "–£–¥–∞–ª–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ".
  - [ ] –ü—Ä–∏ –≥—Ä—É–ø–ø–æ–≤–æ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏:
    - –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å –ø–µ—Ä–≤–æ–≥–æ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞
    - –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç—Ä–µ–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
    - –£–¥–∞–ª–∏—Ç—å –∏—Ö –∏–∑ –∏—Å—Ö–æ–¥–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π
    - –í—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –Ω–æ–≤—É—é –ø–æ–∑–∏—Ü–∏—é, —Å–æ—Ö—Ä–∞–Ω—è—è –ø–æ—Ä—è–¥–æ–∫
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `moveSelectedTracks(toIndex)` –∏–∑ store
- [ ] **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–∞–∂–¥–æ–≥–æ —Ç—Ä–µ–∫–∞:**
  - [ ] –í `PlaylistItem.tsx` –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
    - –ü–æ–∑–∏—Ü–∏—è: —Å–ø—Ä–∞–≤–∞, –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–æ–π —É–¥–∞–ª–µ–Ω–∏—è
    - –§–æ—Ä–º–∞—Ç: `M:SS` (–Ω–∞–ø—Ä–∏–º–µ—Ä: "3:45", "12:30")
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `formatTrackDuration()` –∏–∑ `durationUtils.ts`
    - Fallback: `--:--` –µ—Å–ª–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
    - –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞: `12px` (secondary text)
    - –¶–≤–µ—Ç: Text secondary
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç—Ä–µ–∫–∞ (—Å–º. –ø—É–Ω–∫—Ç –≤—ã—à–µ).
  - [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∏–ª–∏ `PlaylistItem.tsx` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫:
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å flexbox –∏–ª–∏ grid layout
    - –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (drag handle, –Ω–æ–º–µ—Ä, —á–µ–∫–±–æ–∫—Å, –Ω–∞–∑–≤–∞–Ω–∏–µ, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —É–¥–∞–ª–µ–Ω–∏–µ)

---

## 18. –°–±–æ—Ä–∫–∞ –∏ —Ä–µ–ª–∏–∑

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `electron-builder` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥ (–∫–æ–Ω—Ñ–∏–≥ –¥–ª—è Windows target).
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä.
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏—é –Ω–∞ —á–∏—Å—Ç–æ–π Windows –º–∞—à–∏–Ω–µ/VM.

---

## 19. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –∫–ª—é—á–µ–≤—ã–º –º–æ–¥—É–ª—è–º (playlistStore, exportService, ipc handlers).
- [ ] README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –∑–∞–ø—É—Å–∫–∞ (dev & build).
- [x] CHANGELOG –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–µ–ª–∏–∑–æ–≤.

---

## 20. –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

> **–í–∞–∂–Ω–æ**: –°–º. —Ç–∞–∫–∂–µ `CHANGELOG.md` –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –≤ —Ö–æ–¥–µ —Ä–µ–≤—å—é –∫–æ–¥–∞, –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ –≤–µ—Ä—Å–∏–∏ 1.0.0.

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã - –ò–°–ü–†–ê–í–õ–ï–ù–û

- [x] **–£—è–∑–≤–∏–º–æ—Å—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—É—Ç–µ–π**: –í `electron/utils/fsHelpers.ts` —Ñ—É–Ω–∫—Ü–∏—è `validatePath()` —Ç–µ–ø–µ—Ä—å –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—É—Ç–∏ —Å `..` –∫–æ–≥–¥–∞ `basePath` –Ω–µ —É–∫–∞–∑–∞–Ω. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ `if (!basePath && (userPath.includes('..') || userPath.includes('~'))) return false;`
- [x] **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤**: –í `electron/ipc/export.ts` —Ñ—É–Ω–∫—Ü–∏–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø–µ—Ä–µ–¥ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é `fs.access()`. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º `await fs.access(track.path)` –ø–µ—Ä–µ–¥ `copyFileWithRetry()`.

#### –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã - –ò–°–ü–†–ê–í–õ–ï–ù–û

- [x] **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–ª–µ–π–ª–∏—Å—Ç–∞**: –í `src/state/playlistStore.ts` –º–µ—Ç–æ–¥—ã `addTrack()`, `addTracks()` –∏ `addTracksAt()` —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä—è—é—Ç MAX_PLAYLIST_SIZE = 150 –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ç—Ä–µ–∫–æ–≤. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö.
- [x] **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏**: –í `src/components/PlaylistView.tsx` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `useCallback` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `useCallback` –¥–ª—è `handleKeyDown`.
- [x] **Race condition**: –í `src/hooks/useTrackDuration.ts` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç—Ä–µ–∫–∞ –∏ –µ–≥–æ ID –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ `latestTrack.id !== trackId`.

#### –ù–∏–∑–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã - –ò–°–ü–†–ê–í–õ–ï–ù–û

- [x] **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ console.error**: –ó–∞–º–µ–Ω–µ–Ω–æ –ø—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `console.error` –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —É—Ä–æ–≤–Ω—è–º–∏. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ–º `src/utils/logger.ts` –∏ `electron/utils/logger.ts` –∏ –∑–∞–º–µ–Ω–æ–π –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π.
- [x] **–ù–µ–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**: –í `electron/utils/fsHelpers.ts` —Ñ—É–Ω–∫—Ü–∏—è `validatePath()` —Ç–µ–ø–µ—Ä—å –ª–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `logger.error()` –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–≥–æ catch –±–ª–æ–∫–∞.

### Future Enhancements

- [ ] –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –ø–∞–ø–∫–∏: —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ —Ç—Ä–µ–∫–æ–≤, placeholder "–ü–∞–ø–∫–∞: [Name]" + –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –∏—Å—Ç–æ—Ä–∏–∏
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞
- [ ] –ê—É–¥–∏–æ –ø—Ä–µ–≤—å—é –ø–ª–µ–µ—Ä
- [ ] –°–∫–∞–Ω–µ—Ä –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- [ ] –°–∏—Å—Ç–µ–º–∞ —Ç–µ–≥–æ–≤
- [ ] –ê–Ω–∞–ª–∏–∑ BPM/Key
- [ ] –ê–ª–≥–æ—Ä–∏—Ç–º—ã –∞–≤—Ç–æ—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- [ ] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –æ–±–ª–∞–∫–æ–º
- [ ] –ò–º–ø–æ—Ä—Ç –∏–∑ —Å—Ç—Ä–∏–º–∏–Ω–≥–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- [ ] –†–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤

---

## 21. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –∑–æ–Ω (Split Container System)

> **–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–ª—è –≥–∏–±–∫–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è workspace –∑–æ–Ω —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º –≥—Ä–∞–Ω–∏—Ü.

### 21.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/types/layout.ts`:**
  - [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø `ZoneType = 'container' | 'workspace'`
  - [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø `SplitDirection = 'horizontal' | 'vertical'`
  - [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–∏–ø `ZoneId = string` (UUID)
  - [x] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `WorkspaceZone`:
    - `id: ZoneId`
    - `type: 'workspace'`
    - `workspaceId: WorkspaceId` (–∏–º–ø–æ—Ä—Ç –∏–∑ `dragDrop/types`)
    - `workspaceType: string`
    - `size: number` (–ø—Ä–æ—Ü–µ–Ω—Ç 0-100)
  - [x] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ContainerZone`:
    - `id: ZoneId`
    - `type: 'container'`
    - `direction: SplitDirection`
    - `zones: Zone[]` (—Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
    - `sizes: number[]` (–ø—Ä–æ—Ü–µ–Ω—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã, —Å—É–º–º–∞ = 100)
  - [x] –°–æ–∑–¥–∞—Ç—å union —Ç–∏–ø `Zone = WorkspaceZone | ContainerZone`
  - [x] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Layout`:
    - `rootZone: Zone`
    - `version: number` (–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π)
  - [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã

### 21.2 –°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å layout

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/utils/layoutUtils.ts`:**
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∏–∑ `src/types/layout.ts`
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `findZoneById(root: Zone, targetId: ZoneId): Zone | null`:
    - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –∑–æ–Ω—ã –ø–æ ID
    - –ï—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –∑–æ–Ω–∞ - –∏—Å–∫–æ–º—ã–π ID, –≤–µ—Ä–Ω—É—Ç—å –µ—ë
    - –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—Å–∫–∞—Ç—å –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö –∑–æ–Ω–∞—Ö
    - –í–µ—Ä–Ω—É—Ç—å `null` –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `findParentZone(root: Zone, targetId: ZoneId, parent: ContainerZone | null = null): ContainerZone | null`:
    - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    - –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–∞–∫ parent –ø—Ä–∏ —Ä–µ–∫—É—Ä—Å–∏–∏
    - –í–µ—Ä–Ω—É—Ç—å parent –µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω–∞ —Ü–µ–ª–µ–≤–∞—è –∑–æ–Ω–∞
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `countZones(root: Zone): number`:
    - –ï—Å–ª–∏ workspace –∑–æ–Ω–∞, –≤–µ—Ä–Ω—É—Ç—å 1
    - –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤–µ—Ä–Ω—É—Ç—å 1 + —Å—É–º–º–∞ countZones –¥–ª—è –≤—Å–µ—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö –∑–æ–Ω
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `validateLayout(root: Zone, containerWidth: number, containerHeight: number): boolean`:
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —Å—É–º–º–∏—Ä—É—é—Ç—Å—è –¥–æ 100%
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–æ–Ω—ã >= 10px (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –∫–∞–∂–¥–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –Ω–µ –±–æ–ª—å—à–µ 10 –∑–æ–Ω
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª—É–±–∏–Ω—É –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (–º–∞–∫—Å–∏–º—É–º 6 —É—Ä–æ–≤–Ω–µ–π)
    - –í–µ—Ä–Ω—É—Ç—å `true` –µ—Å–ª–∏ –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `cleanupContainers(root: Zone): Zone`:
    - –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
    - –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ 1 –∑–æ–Ω—É:
      - –í–µ—Ä–Ω—É—Ç—å –¥–æ—á–µ—Ä–Ω—é—é –∑–æ–Ω—É (–∑–∞–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)
    - –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ–¥–µ—Ä–∂–∏—Ç > 1 –∑–æ–Ω—ã:
      - –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ –∑–æ–Ω—ã
      - –í–µ—Ä–Ω—É—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –æ—á–∏—â–µ–Ω–Ω—ã–º–∏ –¥–æ—á–µ—Ä–Ω–∏–º–∏ –∑–æ–Ω–∞–º–∏
    - –ï—Å–ª–∏ workspace –∑–æ–Ω–∞, –≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫ –µ—Å—Ç—å
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `calculateMinSizePercent(containerSize: number): number`:
    - –í—ã—á–∏—Å–ª–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç –¥–ª—è 10px: `(10 / containerSize) * 100`
    - –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  - [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 21.3 –°–æ–∑–¥–∞–Ω–∏–µ layoutStore

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/state/layoutStore.ts`:**
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    - `create` –∏–∑ `zustand`
    - `persist` –∏–∑ `zustand/middleware`
    - `v4 as uuidv4` –∏–∑ `uuid`
    - –¢–∏–ø—ã –∏–∑ `src/types/layout.ts`
    - `WorkspaceId` –∏–∑ `src/modules/dragDrop/types.ts`
    - –£—Ç–∏–ª–∏—Ç—ã –∏–∑ `src/utils/layoutUtils.ts`
  - [x] –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `createInitialLayout(): Layout`:
    - –°–æ–∑–¥–∞—Ç—å root –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å `direction: 'horizontal'`
    - –°–æ–∑–¥–∞—Ç—å –¥–≤–µ workspace –∑–æ–Ω—ã:
      - –õ–µ–≤–∞—è: `workspaceId: 'default-playlist-workspace'`, `workspaceType: 'playlist'`, `size: 50`
      - –ü—Ä–∞–≤–∞—è: `workspaceId: 'default-filebrowser-workspace'`, `workspaceType: 'fileBrowser'`, `size: 50`
    - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `sizes: [50, 50]` –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    - –í–µ—Ä–Ω—É—Ç—å `{ rootZone, version: 1 }`
  - [x] –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `LayoutState`:
    - `layout: Layout`
    - `updateZoneSize: (zoneId: ZoneId, newSize: number) => void`
    - `updateContainerSizes: (containerId: ZoneId, sizes: number[]) => void`
    - `addZone: (parentId: ZoneId, workspaceId: WorkspaceId, workspaceType: string, direction?: SplitDirection) => void`
    - `removeZone: (zoneId: ZoneId) => void`
    - `setZoneDirection: (containerId: ZoneId, direction: SplitDirection) => void`
    - `replaceLayout: (newLayout: Layout) => void`
    - `findZone: (zoneId: ZoneId, root?: Zone) => Zone | null`
    - `findParent: (zoneId: ZoneId, root?: Zone, parent?: ContainerZone) => ContainerZone | null`
    - `cleanupEmptyContainers: () => void`
    - `validateLayout: () => boolean`
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `useLayoutStore` —Å `persist` middleware:
    - [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ: `layout: createInitialLayout()`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `updateZoneSize(zoneId, newSize)`:
      - –ù–∞–π—Ç–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `findParent`
      - –ù–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å –∑–æ–Ω—ã –≤ –º–∞—Å—Å–∏–≤–µ `zones` —Ä–æ–¥–∏—Ç–µ–ª—è
      - –û–±–Ω–æ–≤–∏—Ç—å `sizes[index] = newSize`
      - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (—Å—É–º–º–∞ = 100%)
      - –í—ã–∑–≤–∞—Ç—å `cleanupEmptyContainers()` –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `updateContainerSizes(containerId, sizes)`:
      - –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `findZone`
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (type === 'container')
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `sizes.length === zones.length`
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å—É–º–º–∞ sizes === 100 (—Å –Ω–µ–±–æ–ª—å—à–æ–π –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å—é)
      - –û–±–Ω–æ–≤–∏—Ç—å `sizes` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
      - –í—ã–∑–≤–∞—Ç—å `cleanupEmptyContainers()`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `addZone(parentId, workspaceId, workspaceType, direction)`:
      - –ù–∞–π—Ç–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `findZone`
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ < 10 –∑–æ–Ω
      - –ï—Å–ª–∏ `direction` –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—è
      - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é workspace –∑–æ–Ω—É —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º ID
      - –î–æ–±–∞–≤–∏—Ç—å –∑–æ–Ω—É –≤ –º–∞—Å—Å–∏–≤ `zones`
      - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å `sizes` (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∑–æ–Ω–∞–º–∏)
      - –í—ã–∑–≤–∞—Ç—å `cleanupEmptyContainers()`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `removeZone(zoneId)`:
      - –ù–∞–π—Ç–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `findParent`
      - –£–¥–∞–ª–∏—Ç—å –∑–æ–Ω—É –∏–∑ –º–∞—Å—Å–∏–≤–∞ `zones`
      - –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å `sizes` –¥–ª—è –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∑–æ–Ω (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ)
      - –í—ã–∑–≤–∞—Ç—å `cleanupEmptyContainers()`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `setZoneDirection(containerId, direction)`:
      - –ù–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —á–µ—Ä–µ–∑ `findZone`
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
      - –û–±–Ω–æ–≤–∏—Ç—å `direction`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `replaceLayout(newLayout)`:
      - –ü—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `layout`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `findZone(zoneId, root)`:
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `findZoneById` –∏–∑ —É—Ç–∏–ª–∏—Ç
      - –ï—Å–ª–∏ `root` –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `layout.rootZone`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `findParent(zoneId, root, parent)`:
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `findParentZone` –∏–∑ —É—Ç–∏–ª–∏—Ç
      - –ï—Å–ª–∏ `root` –Ω–µ —É–∫–∞–∑–∞–Ω, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `layout.rootZone`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `cleanupEmptyContainers()`:
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cleanupContainers` –∏–∑ —É—Ç–∏–ª–∏—Ç
      - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ `layout.rootZone`
      - –û–±–Ω–æ–≤–∏—Ç—å `layout.rootZone` —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `validateLayout()`:
      - –ü–æ–ª—É—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –∏–∑ DOM)
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `validateLayout` –∏–∑ —É—Ç–∏–ª–∏—Ç
      - –í–µ—Ä–Ω—É—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  - [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `persist` middleware:
    - `name: 'cherryplaylist-layout'`
    - `version: 1`
  - [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `useLayoutStore`

### 21.4 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ WorkspaceRenderer

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/components/WorkspaceRenderer.tsx`:**
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å React –∏ —Ç–∏–ø—ã
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: `PlaylistView`, `FileBrowser`, `SourcesPanel`
  - [x] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `WorkspaceRendererProps` —Å `zone: WorkspaceZone`
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `WorkspaceRenderer`:
    - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `switch` –ø–æ `zone.workspaceType`
    - –î–ª—è `'playlist'`: —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `<PlaylistView zoneId={zone.id} />`
    - –î–ª—è `'fileBrowser'`: —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å:
      ```tsx
      <>
        <h2 className="panel-title">–ò—Å—Ç–æ—á–Ω–∏–∫–∏</h2>
        <SourcesPanel />
      </>
      ```
    - –î–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤: —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
  - [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### 21.5 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ SplitContainer

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/components/SplitContainer.tsx`:**
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å React, —Ö—É–∫–∏ (`useRef`, `useCallback`, `useState`, `useEffect`, `useMemo`)
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –∏–∑ `src/types/layout.ts`
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `useLayoutStore` –∏–∑ `src/state/layoutStore.ts`
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `WorkspaceRenderer` –∏–∑ `src/components/WorkspaceRenderer.tsx`
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Ç–∏–ª–∏—Ç—ã –∏–∑ `src/utils/layoutUtils.ts`
  - [x] –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `SplitContainerProps`:
    - `zone: ContainerZone`
    - `depth?: number` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0)
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `SplitContainer`:
    - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏:
      - –ï—Å–ª–∏ `depth >= 6`, –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å fallback (–ø—Ä–æ—Å—Ç–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫)
    - [x] –°–æ–∑–¥–∞—Ç—å `containerRef` —Å –ø–æ–º–æ—â—å—é `useRef<HTMLDivElement>(null)`
    - [x] –°–æ–∑–¥–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `resizingIndex: number | null` —Å –ø–æ–º–æ—â—å—é `useState`
    - [x] –°–æ–∑–¥–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ `containerSize: { width: number; height: number }` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤
    - [x] –ü–æ–ª—É—á–∏—Ç—å `updateContainerSizes` –∏–∑ `useLayoutStore`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `useEffect` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
      - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ResizeObserver` –∏–ª–∏ `window.addEventListener('resize')`
      - –û–±–Ω–æ–≤–ª—è—Ç—å `containerSize` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handleMouseDown(index)`:
      - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `resizingIndex = index`
      - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `mousemove` –∏ `mouseup` –Ω–∞ `window`
      - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞: `e.preventDefault()`
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handleMouseMove(e)`:
      - –ï—Å–ª–∏ `resizingIndex === null`, –≤—ã–π—Ç–∏
      - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º—ã—à–∏
      - –í—ã—á–∏—Å–ª–∏—Ç—å –Ω–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∑–æ–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∑–∏—Ü–∏–∏ –º—ã—à–∏
      - –í—ã—á–∏—Å–ª–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç —á–µ—Ä–µ–∑ `calculateMinSizePercent`
      - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã –Ω–µ –Ω–∞—Ä—É—à–∞—é—Ç –º–∏–Ω–∏–º—É–º 10px
      - –ï—Å–ª–∏ –Ω–∞—Ä—É—à–∞—é—Ç, —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ –º–∏–Ω–∏–º—É–º–∞
      - –í—ã–∑–≤–∞—Ç—å `updateContainerSizes` —Å –Ω–æ–≤—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
    - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handleMouseUp()`:
      - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `resizingIndex = null`
      - –£–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `mousemove` –∏ `mouseup` —Å `window`
    - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useEffect` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –º—ã—à–∏:
      - –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏ `resizingIndex !== null`
      - –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `resizingIndex`
    - [x] –†–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
      - `div` —Å –∫–ª–∞—Å—Å–æ–º `split-container split-${zone.direction}`
      - `ref={containerRef}`
      - `display: flex`, `flexDirection` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `zone.direction`
      - –î–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã –≤ `zone.zones`:
        - –†–µ–Ω–¥–µ—Ä–∏—Ç—å `div` —Å –∫–ª–∞—Å—Å–æ–º `split-zone`:
          - `flex: 0 0 ${zone.sizes[index]}%`
          - `minWidth` –∏–ª–∏ `minHeight` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (10px)
        - –í–Ω—É—Ç—Ä–∏: –µ—Å–ª–∏ `childZone.type === 'container'`, —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `<SplitContainer zone={childZone} depth={depth + 1} />`, –∏–Ω–∞—á–µ `<WorkspaceRenderer zone={childZone} />`
        - –ï—Å–ª–∏ –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è –∑–æ–Ω–∞, —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `div` —Å –∫–ª–∞—Å—Å–æ–º `split-divider`:
          - `onMouseDown={() => handleMouseDown(index)}`
          - –°—Ç–∏–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
          - –ö–ª–∞—Å—Å `resizing` –µ—Å–ª–∏ `resizingIndex === index`
  - [x] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### 21.6 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª–µ–π

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/styles/components/app.css`:**
  - [x] –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–ª–∞—Å—Å—ã:
    - `.main-panels`
    - `.panel`
    - `.panel-divider`
  - [x] –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è `.split-container`:
    - `display: flex`
    - `width: 100%`
    - `height: 100%`
    - `overflow: hidden`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `.split-container.split-horizontal`:
    - `flex-direction: row`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `.split-container.split-vertical`:
    - `flex-direction: column`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `.split-zone`:
    - `display: flex`
    - `flex-direction: column`
    - `overflow: hidden`
    - `background-color: var(--bg-secondary)`
    - `position: relative`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `.split-divider`:
    - `background-color: var(--ui-border)`
    - `flex-shrink: 0`
    - `transition: background-color 0.2s`
    - `user-select: none`
    - –î–ª—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ: `width: 2px`, `cursor: col-resize`
    - –î–ª—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ: `height: 2px`, `cursor: row-resize`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `.split-divider:hover`:
    - `background-color: var(--accent-primary)`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `.split-divider.resizing`:
    - `background-color: var(--accent-primary)`
  - [x] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∏–ª–∏ –¥–ª—è `.panel-title` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ WorkspaceRenderer)

### 21.7 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ App.tsx

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/App.tsx`:**
  - [x] –£–¥–∞–ª–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã `PlaylistView` –∏ `SourcesPanel`
  - [x] –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç `SplitContainer` –∏–∑ `./components/SplitContainer`
  - [x] –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç `useLayoutStore` –∏–∑ `./state/layoutStore`
  - [x] –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `App`:
    - –ü–æ–ª—É—á–∏—Ç—å `layout` –∏–∑ `useLayoutStore`
    - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ `layout.rootZone.type === 'container'` (–µ—Å–ª–∏ –Ω–µ—Ç, –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É)
    - –ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ä—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É `main-panels` –Ω–∞:
      ```tsx
      <div className="app-content">
        <SplitContainer zone={layout.rootZone} />
      </div>
      ```
  - [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Header, Modal, Notifications) –æ—Å—Ç–∞–ª–∏—Å—å –Ω–∞ –º–µ—Å—Ç–µ

### 21.8 –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ uiStore –¥–ª—è —Å–≤—è–∑–∏ —Å layout

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/state/uiStore.ts`:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `zoneId?: string` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `WorkspaceInfo`
  - [x] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `getWorkspaceByZoneId(zoneId: string): WorkspaceInfo | undefined`:
    - –ù–∞–π—Ç–∏ workspace –≤ –º–∞—Å—Å–∏–≤–µ `workspaces` –ø–æ `zoneId`
    - –í–µ—Ä–Ω—É—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–π workspace –∏–ª–∏ `undefined`
  - [x] –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ `setWorkspaceZoneId(workspaceId: WorkspaceId, zoneId: string): void`:
    - –ù–∞–π—Ç–∏ workspace –ø–æ `workspaceId`
    - –û–±–Ω–æ–≤–∏—Ç—å `zoneId` –≤ –Ω–∞–π–¥–µ–Ω–Ω–æ–º workspace
  - [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –≤ store

### 21.9 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ drag-and-drop

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/modules/dragDrop/types.ts`:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `zoneId?: string` –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `DropContext`
  - [x] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è `DropContext` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—è

### 21.10 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ usePlaylistDragAndDrop

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/hooks/usePlaylistDragAndDrop.ts`:**
  - [x] –ù–∞–π—Ç–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è `DropContext`
  - [x] –î–æ–±–∞–≤–∏—Ç—å `zoneId` –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–ø–æ–ª—É—á–∏—Ç—å –∏–∑ props –∏–ª–∏ –∏–∑ workspace info)
  - [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `zoneId` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤–æ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è drag-and-drop:
    - `handleDragOver`
    - `handleDrop`
  - [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ drag-and-drop —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –Ω–æ–≤—ã–º –ø–æ–ª–µ–º

### 21.11 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PlaylistView

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/components/PlaylistView.tsx`:**
  - [x] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `zoneId` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ `DropContext` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
  - [x] –ï—Å–ª–∏ `zoneId` –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∏–∑ props, –¥–æ–±–∞–≤–∏—Ç—å prop `zoneId?: string`
  - [x] –ü–µ—Ä–µ–¥–∞—Ç—å `zoneId` –≤–æ –≤—Å–µ –≤—ã–∑–æ–≤—ã `playlistDrag.handleDragOver` –∏ `playlistDrag.handleDrop`

### 21.12 –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
  - [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å `npm run dev`
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ layout –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (2 –∑–æ–Ω—ã: –ø–ª–µ–π–ª–∏—Å—Ç –∏ –±—Ä–∞—É–∑–µ—Ä)
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∑–æ–Ω—ã –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã (50/50)
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤:**
  - [ ] –ù–∞–≤–µ—Å—Ç–∏ –∫—É—Ä—Å–æ—Ä –Ω–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –º–µ–∂–¥—É –∑–æ–Ω–∞–º–∏
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫—É—Ä—Å–æ—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `col-resize`
  - [ ] –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ä–∞–∑–º–µ—Ä—ã –∑–æ–Ω –∏–∑–º–µ–Ω—è—é—Ç—Å—è
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –º–∏–Ω–∏–º—É–º 10px —Å–æ–±–ª—é–¥–∞–µ—Ç—Å—è
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Å—É–º–º–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –æ—Å—Ç–∞—ë—Ç—Å—è 100%
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ layout:**
  - [ ] –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä—ã –∑–æ–Ω
  - [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ layout –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏
- [ ] **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å drag-and-drop:**
  - [ ] –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Ñ–∞–π–ª –∏–∑ FileBrowser –≤ Playlist
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ñ–∞–π–ª –¥–æ–±–∞–≤–∏–ª—Å—è –≤ –ø–ª–µ–π–ª–∏—Å—Ç
  - [ ] –ü–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Ç—Ä–µ–∫ –≤–Ω—É—Ç—Ä–∏ –ø–ª–µ–π–ª–∏—Å—Ç–∞
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç—Ä–µ–∫ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è

### 21.13 –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- [x] **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å `React.memo` –¥–ª—è `SplitContainer` –∏ `WorkspaceRenderer`
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useMemo` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π –∑–æ–Ω
  - [x] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (throttle/debounce)
- [ ] **–û–±—Ä–∞–±–æ—Ç–∫–∞ edge cases:**
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–æ–º –æ–∫–Ω–µ (< 200px)
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ (6 —É—Ä–æ–≤–Ω–µ–π)
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å 1 –∑–æ–Ω–æ–π
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ layout –∏–∑ localStorage
- [ ] **–£–ª—É—á—à–µ–Ω–∏–µ UX:**
  - [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å –ø—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è)
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∫—É—Ä—Å–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ hover –Ω–∞ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –Ω–µ—Ç "–¥—Ä–æ–∂–∞–Ω–∏—è" –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤

### 21.14 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

- [ ] **–î–æ–±–∞–≤–∏—Ç—å JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
  - [ ] –í `src/types/layout.ts` - –æ–ø–∏—Å–∞—Ç—å –≤—Å–µ —Ç–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
  - [ ] –í `src/utils/layoutUtils.ts` - –æ–ø–∏—Å–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
  - [ ] –í `src/state/layoutStore.ts` - –æ–ø–∏—Å–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã store
  - [ ] –í `src/components/SplitContainer.tsx` - –æ–ø–∏—Å–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ props
  - [ ] –í `src/components/WorkspaceRenderer.tsx` - –æ–ø–∏—Å–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
  - [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ `FULL_DOCUMENTATION.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (—Ä–∞–∑–¥–µ–ª 9.2.4)
  - [ ] –û–±–Ω–æ–≤–∏—Ç—å `WORKSPACE_REQUIREMENTS.md` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

---

## 22. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π (Collections)

### 22.1 –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ drag-drop store

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/state/dragDropStore.ts`:**
  - [x] Zustand store –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è cross-workspace –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏
  - [x] –ú–µ—Ç–æ–¥ `moveTracksBetweenWorkspaces(trackIds, sourceWorkspaceId, targetWorkspaceId, targetIndex?)` - –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ (—É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞)
  - [x] –ú–µ—Ç–æ–¥ `copyTracksBetweenWorkspaces(trackIds, sourceWorkspaceId, targetWorkspaceId, targetIndex?)` - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å Ctrl)
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getTrackWorkspaceStore` –∏–∑ `trackWorkspaceStoreFactory` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è stores
  - [x] –î–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: –ø–æ–ª—É—á–∏—Ç—å —Ç—Ä–µ–∫–∏ –∏–∑ source store, —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–µ —Ç—Ä–µ–∫–∏ (–±–µ–∑ ID) –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ target store
  - [x] –î–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è: –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ + —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ source store
  - [x] –õ–æ–≥–∏–∫–∞ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞: –≤—Å–µ–≥–¥–∞ move –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, copy —Ç–æ–ª—å–∫–æ —Å Ctrl

### 22.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ useTrackWorkspaceDragAndDrop

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/hooks/usePlaylistDragAndDrop.ts`:**
  - [x] –£–±—Ä–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ callbacks `onMoveTracksToWorkspace` –∏ `onCopyTracksToWorkspace` –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ `TrackWorkspaceDragOptions`
  - [x] –í `handleDrop` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏–∑ `dragDropStore` –Ω–∞–ø—Ä—è–º—É—é
  - [x] –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ `isCrossWorkspace`, –≤—ã–∑—ã–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã store –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç `isCopyOperation` (Ctrl)
  - [x] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `useDragDropStore` –∏–∑ `dragDropStore.ts`
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `draggedItems` –∏–∑ `uiStore` –≤–º–µ—Å—Ç–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ `useState`

### 22.3 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ CollectionView

- [x] **–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `src/components/CollectionView.tsx`:**
  - [x] –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏–∑ `PlaylistView.tsx`
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ensureTrackWorkspaceStore` —Å `workspaceId` –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ `maxTracks: null` (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π)
  - [x] –ü–æ–¥–∫–ª—é—á–∏—Ç—å `useTrackWorkspaceDragAndDrop` (–±–µ–∑ callbacks, –æ–Ω–∏ —Ç–µ–ø–µ—Ä—å –≤ store)
  - [x] –ò–∑–º–µ–Ω–∏—Ç—å placeholder —Ç–µ–∫—Å—Ç—ã: "Collection is empty" –≤–º–µ—Å—Ç–æ "Playlist is empty"
  - [x] –ü—Ä–∏–Ω–∏–º–∞—Ç—å `workspaceId` –∏ `zoneId` –∫–∞–∫ props
  - [x] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–ª–µ–π–ª–∏—Å—Ç–∞: selection, drag-and-drop, undo/redo, statistics

### 22.4 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ WorkspaceRenderer

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/components/WorkspaceRenderer.tsx`:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å case `'collection'`: —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å `<CollectionView workspaceId={zone.workspaceId} zoneId={zone.id} />`

### 22.5 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PlaylistView

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/components/PlaylistView.tsx`:**
  - [x] –£–±—Ä–∞—Ç—å callbacks `onMoveTracksToWorkspace` –∏ `onCopyTracksToWorkspace` –∏–∑ `useTrackWorkspaceDragAndDrop`
  - [x] –õ–æ–≥–∏–∫–∞ cross-workspace —Ç–µ–ø–µ—Ä—å –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º store
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `draggedItems` –∏–∑ `uiStore`

### 22.6 –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ layout preset —Å –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/state/layoutStore.ts`:**
  - [x] –§—É–Ω–∫—Ü–∏—è `createCollectionsLayout()`:
    - [x] –°—Ç—Ä—É–∫—Ç—É—Ä–∞: –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π root ‚Üí [–ø–ª–µ–π–ª–∏—Å—Ç, –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä]
    - [x] –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí [–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –±—Ä–∞—É–∑–µ—Ä]
    - [x] –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí [–∫–æ–ª–ª–µ–∫—Ü–∏—è 1, –∫–æ–ª–ª–µ–∫—Ü–∏—è 2]
  - [x] –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ `workspaceId` –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π (—á–µ—Ä–µ–∑ `generateWorkspaceId()`)
  - [x] –î–æ–±–∞–≤–∏—Ç—å preset `'collections'` –≤ `LayoutPreset` type
  - [x] –û–±–Ω–æ–≤–∏—Ç—å `createLayoutByPreset` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤–æ–≥–æ preset
  - [x] –ò–∑–º–µ–Ω–∏—Ç—å `createInitialLayout()` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `createCollectionsLayout()` –≤–º–µ—Å—Ç–æ `createSimpleLayout()`

### 22.7 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ UI store

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/state/layoutStore.ts` (–≤ `createCollectionsLayout`):**
  - [x] –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è layout, –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —á–µ—Ä–µ–∑ `useUIStore.getState().addWorkspace()`
  - [x] –°–æ–∑–¥–∞—Ç—å `WorkspaceInfo` –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Å —Ç–∏–ø–æ–º `'collection'` –∏ –∏–º–µ–Ω–∞–º–∏ "Collection 1", "Collection 2"
  - [x] –°–≤—è–∑–∞—Ç—å `zoneId` —á–µ—Ä–µ–∑ `setWorkspaceZoneId`
  - [x] –°–æ–∑–¥–∞—Ç—å stores –¥–ª—è –∫–æ–ª–ª–µ–∫—Ü–∏–π —á–µ—Ä–µ–∑ `ensureTrackWorkspaceStore` —Å `maxTracks: null`

### 22.8 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ uiStore –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ drag state

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/state/uiStore.ts`:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å `draggedItems: DraggedItems | null` –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
  - [x] –î–æ–±–∞–≤–∏—Ç—å `setDraggedItems` action –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  - [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å `draggedItems: null` –≤ –Ω–∞—á–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

### 22.9 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AppHeader –¥–ª—è –Ω–æ–≤–æ–≥–æ layout preset

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/components/AppHeader.tsx`:**
  - [x] –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é `'collections'` –≤ dropdown –¥–ª—è –≤—ã–±–æ—Ä–∞ layout preset
  - [x] –û–±–Ω–æ–≤–∏—Ç—å `handleLayoutChange` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–æ–≤–æ–≥–æ preset

### 22.10 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è playlistStore –≤ trackWorkspaceStoreFactory

- [x] **–û–±–Ω–æ–≤–∏—Ç—å —Ñ–∞–π–ª `src/state/playlistStore.ts`:**
  - [x] –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å `playlistStore` –≤ `trackWorkspaceStores` —á–µ—Ä–µ–∑ `registerTrackWorkspaceStore`
  - [x] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `DEFAULT_PLAYLIST_WORKSPACE_ID` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –§–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –†–∞–∑–±–∏–≤–∞–π –∑–∞–¥–∞—á–∏ –Ω–∞ –∫–æ–º–º–∏—Ç—ã –º–µ–ª–∫–∏–º–∏ —à–∞–≥–∞–º–∏ (–æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è / –æ–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç).
- –ö–æ–º–º–∏—Ç—ã –∏ –≤–µ—Ç–∫–∏: feature/_, fix/_, chore/\* ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π.
- –ò—Å–ø–æ–ª—å–∑—É–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: `FULL_DOCUMENTATION.md` –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, `API.md` –¥–ª—è API reference.

---

## 23. –î–µ–º–æ-–ø–ª–µ–µ—Ä

### 23.1 –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è

- [x] –û–±–Ω–æ–≤–∏—Ç—å README –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞ (—Ä–∞–∑–¥–µ–ª—ã ¬´–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏¬ª, ¬´–ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è¬ª).
- [x] –û–±–Ω–æ–≤–∏—Ç—å FULL_DOCUMENTATION (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, UI/UX, track item, header).
- [x] –î–æ–±–∞–≤–∏—Ç—å demoPlayerStore –≤ —Ä–∞–∑–¥–µ–ª Zustand stores —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏–π.
- [x] –û–±–Ω–æ–≤–∏—Ç—å API.md (store, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç DemoPlayer, –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è).
- [x] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç (—Ä–∞–∑–¥–µ–ª 23) –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–æ—Ä–∞–±–æ—Ç–∫–∏.

### 23.2 demoPlayerStore

- [x] –°–æ–∑–¥–∞—Ç—å `src/state/demoPlayerStore.ts` —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (`currentTrack`, `status`, `position`, `duration`, `volume`, `error`, `sourceWorkspaceId`).
- [x] –£–ø—Ä–∞–≤–ª—è—Ç—å `HTMLAudioElement` (–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Å–æ–±—ã—Ç–∏—è `loadedmetadata`, `timeupdate`, `ended`, `error`).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è `loadTrack`, `play`, `pause`, `seek`, `setVolume`, `clear`, `handleEnded`, `handleError`.
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ `logger`, –≤ —Å—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.

### 23.3 –ö–æ–º–ø–æ–Ω–µ–Ω—Ç DemoPlayer

- [x] –°–æ–∑–¥–∞—Ç—å `src/components/DemoPlayer.tsx` –∏ –≤—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ –≤ `AppHeader` (–≤–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∞).
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å UI —ç–ª–µ–º–µ–Ω—Ç—ã: Play/Pause, –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞, –∫–Ω–æ–ø–∫–∞ ¬´–ü–æ–∫–∞–∑–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ¬ª, —Ç–∞–π–º–ª–∞–π–Ω —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ç–µ–∫—É—â–µ–≥–æ/–æ–±—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ –≥—Ä–æ–º–∫–æ—Å—Ç–∏.
- [x] –°–æ—Å—Ç–æ—è–Ω–∏—è disabled/active —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –æ—Ç—Ä–∞–∂–∞—é—Ç `demoPlayerStore`.

### 23.4 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FileBrowser

- [x] –î–æ–±–∞–≤–∏—Ç—å action `focusFileInBrowser(path)` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥) –≤ `uiStore`/FileBrowser —Å–µ—Ä–≤–∏—Å.
- [x] –ö–Ω–æ–ø–∫–∞ –ø–ª–µ–µ—Ä–∞ ¬´–ü–æ–∫–∞–∑–∞—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ¬ª –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—å FileBrowser –∫ —Ñ–∞–π–ª—É –∏ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –µ–≥–æ.

### 23.5 –ö–Ω–æ–ø–∫–∏ Play –≤ –ø–ª–µ–π–ª–∏—Å—Ç–∞—Ö –∏ –∫–æ–ª–ª–µ–∫—Ü–∏—è—Ö

- [x] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É Play –≤ `PlaylistItem` (–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π) —Å–ª–µ–≤–∞ –æ—Ç drag handle.
- [x] –ü—Ä–∏ –∫–ª–∏–∫–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç—Ä–µ–∫ –≤ `demoPlayerStore` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º `workspaceId` –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ.
- [x] –ü–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É, –µ—Å–ª–∏ —Ç–µ–∫—É—â–∏–π —Ç—Ä–µ–∫ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º.

### 23.6 –ù–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –æ—à–∏–±–∫–∏

- [x] –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å toast —á–µ—Ä–µ–∑ `uiStore.addNotification`.
- [x] –°–±—Ä–∞—Å—ã–≤–∞—Ç—å –æ—à–∏–±–∫—É –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –¥—Ä—É–≥–æ–≥–æ —Ç—Ä–µ–∫–∞.

### 23.7 –£—Ç–∏–ª–∏—Ç—ã –∏ —Ç–µ—Å—Ç—ã

- [x] –î–æ–±–∞–≤–∏—Ç—å helper `formatPlayerTime(seconds)` –≤ `src/utils/durationUtils.ts`.
- [x] –ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è `demoPlayerStore` (–æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏).
- [x] –ü—Ä–æ–≥–Ω–∞—Ç—å `npm run lint` / `npm run check`.

### 23.8 –§–∏–Ω–∞–ª

- [x] –ü–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (README/FULL/API) —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.
- [x] –ü—Ä–æ—Å—Ç–∞–≤–∏—Ç—å –≥–∞–ª–æ—á–∫–∏ –≤ —Ç–µ–∫—É—â–µ–º —á–µ–∫-–ª–∏—Å—Ç–µ.
